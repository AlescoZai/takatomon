<!doctype html>
<html>
<head>
	<title>MIC-1 Simulation</title>
	<link rel="stylesheet" type="text/css" href="./mic1.css">
	<script src="./mic1.js"></script>
</head>
<body>
	<input type="text" readonly value="Stack Pointer (SP)">
	<input type="text" id="sp" value="0xC80">
	<input type="text" readonly value="Local Variable (LV)">
	<input type="text" id="lv" value="0xE10">
	<input type="text" readonly value="Variables (separate by spaces)">
	<input type="text" readonly value="'a' (0x00) value first, 'b' (0x01) value second, etc.">
	<input type="text" id="vars" value="3 77 4">
	<input type="text" readonly value="Program Counter (PC)">
	<input type="text" id="pc" value="0x18">
	<input type="text" readonly value="IJVM Hex Code (separate by spaces)">
	<input type="text" id="hexcode" value="0x15 0x01 0x15 0x00 0x64 0x36 0x02 0x15 0x00 0x59 0x60 0x36 0x00">
	<input type="text" readonly value="Delay (milliseconds between each printed line)">
	<input type="text" id="delay" value="20">
	<input type="button" onclick="run()" value="Run">
	<output id="result"><output id="out"></output></output>
	<table id="ijvm">
		<tr><td>Hex </td><td>Mnemonic          </td><td>Meaning                                                </td></tr>
		<tr><td>0x00</td><td>NOP               </td><td>Do nothing                                             </td></tr>
		<tr><td>0x57</td><td>POP               </td><td>Delete word on top of stack                            </td></tr>
		<tr><td>0x59</td><td>DUP               </td><td>Copy top word on stack and push onto stack             </td></tr>
		<tr><td>0x5F</td><td>SWAP              </td><td>Swap the two top words on the stack                    </td></tr>
		<tr><td>0x13</td><td>LDC_W index       </td><td>Push constant from constant pool onto stack            </td></tr>
		<tr><td>0x15</td><td>ILOAD varnum      </td><td>Push a local variable onto stack                       </td></tr>
		<tr><td>0x36</td><td>ISTORE varnum     </td><td>Pop word from stack and store in local variable        </td></tr>
		<tr><td>0x60</td><td>IADD              </td><td>Pop two words from stack; push their sum               </td></tr>
		<tr><td>0x64</td><td>ISUB              </td><td>Pop two words from stack; push their difference        </td></tr>
		<tr><td>0x7E</td><td>IAND              </td><td>Pop two words from stack; push Boolean AND             </td></tr>
		<tr><td>0x80</td><td>IOR               </td><td>Pop two words from stack; push Boolean OR              </td></tr>
		<tr><td>0x10</td><td>BIPUSH byte       </td><td>Push byte onto stack                                   </td></tr>
		<tr><td>0x84</td><td>IINC varnum const </td><td>Add a constant to a local variable                     </td></tr>
		<tr><td>0xA7</td><td>GOTO offset       </td><td>Unconditional branch                                   </td></tr>
		<tr><td>0x99</td><td>IFEQ offset       </td><td>Pop word from stack and branch if it is zero           </td></tr>
		<tr><td>0x9B</td><td>IFLT offset       </td><td>Pop word from stack and branch if it is less than zero </td></tr>
		<tr><td>0x9F</td><td>IF_ICMPEQ offset  </td><td>Pop two words from stack; branch if equal              </td></tr>
		<tr><td>0xB6</td><td>INVOKEVIRTUAL disp</td><td>Invoke a method                                        </td></tr>
		<tr><td>0xAC</td><td>IRETURN           </td><td>Return from method with integer value                  </td></tr>
		<tr><td>0xC4</td><td>WIDE              </td><td>Prefix instruction; next instruction has a 16-bit index</td></tr>
		<tr><td colspan="3">The operands byte, const and varnum are 1 byte. The operands disp, index, and offset are 2 bytes.</td></tr>
	</table>
</body>
</html>