<!DOCTYPE html>
<head>
	<title>Tiles</title>
	<style>
		body {
			position: absolute;
			perspective: 1024px;
			margin: 0;
		}
		.row {
			position: relative;
			height: 50px;
			display: block;
		}
		.tile {
			background: black;
			position: relative;
			height: 50px;
			width: 50px;
			display: inline-block;
			cursor: pointer;
		}
		.tile:hover {
			background: grey;
		}
	</style>
</head>
<body>
	<script>
		var tedx = [1,2,2,2,2,2,3,5,5,5,5,5,6,6,6,7,7,9,9,9,9,9,10,10,11,11,11];
		var tedy = [1,1,2,3,4,5,1,1,2,3,4,5,1,3,5,1,5,1,2,3,4,5,1,5,2,3,4];
		var ted = tedx.map((e, i) => [e, tedy[i]]);
		function tilegrid(r, c) {
			for (var i = 0; i < r; i ++) {
				var row = document.body.appendChild(document.createElement("div"));
				row.className = "row";
				for (var j = 0; j < c; j++) {
					var tile = row.appendChild(document.createElement("div"));
					tile.className = "tile";
					if (ted.some(e => j == e[0] && i == e[1])) {
						tile.style.opacity = 0.75;
					}
				}
			}
		}
		tilegrid(15, 28);
		window.addEventListener("mousemove", function(e) {
			for (var i = 0, tile; tile = document.getElementsByClassName("tile")[i]; i++) {
				var tilebox = tile.getBoundingClientRect();
				var tilex = (tilebox.left + tilebox.right) / 2;
				var tiley = (tilebox.top + tilebox.bottom) / 2;
				var x = (e.clientX - tilex) / innerWidth;
				var y = (e.clientY - tiley) / innerHeight;
				var wha = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));
				tile.style.transform = "translateZ(" + 100 * wha + "px) rotateX(" + -(90 * y) + "deg) rotateY(" + (90 * x) + "deg)";
				tile.style.transformOrigin = "50% 50% " + 100 * wha + "px";
			}
		});
	</script>
</body>
